(this["webpackJsonpai-reversi"]=this["webpackJsonpai-reversi"]||[]).push([[0],{12:function(e,t,i){},13:function(e,t,i){},14:function(e,t,i){},15:function(e,t,i){},19:function(e,t,i){"use strict";i.r(t);var a,n,o=i(1),r=i.n(o),l=i(4),c=i.n(l),s=(i(12),i(13),i(7)),u=(i(14),i(15),i.p+"static/media/bpiece.9e0bec2c.png"),f=i.p+"static/media/wpiece.f3921918.png",h=["1","2","3","4","5","6","7","8"],g=["a","b","c","d","e","f","g","h"],m=[-9,-8,-7,-1,1,7,8,9],p=u,v=f,O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAABmJLR0QA/wD/AP+gvaeTAAACdUlEQVRYhe2ZO2sVQRhAz0QTNTGdhUTEgEQL0ULRRgu10cZeSBMEf4b+BosoUaxFfIsGRERbo7WQQrFSBCuTezea17HYG0g2c99394ZwT/nN7O6Z2Z3Xt9Cjx/YitHsDdQi4AFwBTgOjwO51Vf4C34HPwGvgfQghafe5LaGeUJ+oifpHXbU2q5V6ifpYPV6k7Ig6rZbVlTqi1ViuXP9S3Z+38DV1Xl1sUTbLojqnXs1DNqj31FKHZLOU1Um1r1PCfeqjHIXXKKnPOiKu3jcdPEWQqFPtCk+YvroiKavjtbyqztPqQWAWGGyr5a1RBo6EEH7GCmt9P3eB/lyU6jMA3KlWGO1p9Rjwie708hoJcCqEMJstqNbTN4FduSrVZwC4ESvY1NOme4nfwJ6cpRohAfaFEBbWB2M9fRFYLESpPovA+WwwJn0JGM7bpkGGSX02EJM+WyXeDXYA57LBmNyh/F2aYjQbiEkP5e/RFHuzgZj0zgJEmmHTAheTXipApBk2zWQx6XIBIs1QygZi0t8KEGmGr9lATHoGWM3fpSFWgI/ZYEz6LTCfu05jlEh9NrA99h4hhDLwivTVdJNl4HlWGLb2fnoBONnwfjqE8AV4R/fm7CVgOiYMtc+IB0jPiJuW0QIoAWMhhF+xwqq7uRDCD+A66WAokgSYqCbcEOqUaeqqCObUybabbbEZpod2MDUW1Ns5ipfVW2rb+fKY/HhFvFNZ03+mWdjOZ00z4iPqi4r8couyy5Xrn5p3fjojf9T0G0xMB1C9BqxU6iXqA3Ws1Wd34p/LIGna4TJwBjhMeoruJ10k5km3uzPAG+BD1/659OixRfkPNtBEyqC2sWcAAAAASUVORK5CYII=";!function(e){e[e.BLACK=0]="BLACK",e[e.WHITE=1]="WHITE",e[e.CANDIDATE=2]="CANDIDATE",e[e.NONE=3]="NONE"}(a||(a={})),function(e){e[e.OPPONENT=0]="OPPONENT",e[e.OUR=1]="OUR",e[e.NONE=2]="NONE"}(n||(n={}));var A=new Array(64);A.fill({image:"null",position:{x:9,y:9},type:a.NONE,team:n.NONE}),A[3+3*g.length]={image:p,position:{x:3,y:3},type:a.BLACK,team:n.OPPONENT},A[3+4*g.length]={image:v,position:{x:3,y:4},type:a.WHITE,team:n.OUR},A[4+3*g.length]={image:v,position:{x:4,y:3},type:a.WHITE,team:n.OUR},A[4+4*g.length]={image:p,position:{x:4,y:4},type:a.BLACK,team:n.OPPONENT},A[4+5*g.length]={image:O,position:{x:4,y:5},type:a.CANDIDATE,team:n.NONE};var N=A,d=i(0);function y(e){var t=e.id,i=e.ptype,n=e.image;return i===a.BLACK||i===a.WHITE?Object(d.jsx)("div",{className:"tile",children:n&&Object(d.jsx)("div",{id:t,style:{backgroundImage:"url(".concat(n,")")},className:"piece"})}):i===a.CANDIDATE?Object(d.jsx)("div",{className:"tile",children:n&&Object(d.jsx)("div",{id:t,style:{backgroundImage:"url(".concat(n,")")},className:"candidate"})}):Object(d.jsx)("div",{className:"tile",children:Object(d.jsx)("div",{id:t,className:"piece"})})}var E=i(5),b=i(6),j=i.p+"static/media/put_piece.5ab3c162.mp3",T=i.p+"static/media/go_go.df42a03a.mp3",P=i.p+"static/media/over_lose.85fd7b97.mp3",B=i.p+"static/media/you_win.b2a2467c.mp3",C=i.p+"static/media/look_out.a94c11bb.mp3",x=i(3),M=function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,[{key:"makeWMove",value:function(e,t,i){for(var o,r=[],l=0;l<m.length;l++)this.feasibleMove(e,t,m[l],n.OUR)&&r.push(m[l]);e[t]={image:v,position:{x:t%g.length,y:Math.floor(t/g.length)},type:a.WHITE,team:n.OUR};for(var c=0;c<r.length;c++)for(o=t+r[c];e[o].team===n.OPPONENT;)e[o]={image:v,position:{x:o%g.length,y:Math.floor(o/g.length)},type:a.WHITE,team:n.OUR},o+=r[c];if(i){var s=new Audio;r.length<3?(s.src=j,s.play()):(s.src=T,s.play())}return e}},{key:"makeBMove",value:function(e,t,i){for(var o,r=[],l=0;l<m.length;l++)this.feasibleMove(e,t,m[l],n.OPPONENT)&&r.push(m[l]);e[t]={image:p,position:{x:t%g.length,y:Math.floor(t/g.length)},type:a.BLACK,team:n.OPPONENT};for(var c=0;c<r.length;c++)for(o=t+r[c];e[o].team===n.OUR;)e[o]={image:p,position:{x:o%g.length,y:Math.floor(o/g.length)},type:a.BLACK,team:n.OPPONENT},o+=r[c];if(i){var s=new Audio;r.length<3?(s.src=j,s.play()):(s.src=C,s.play())}return e}},{key:"feasibleMove",value:function(e,t,i,a){var o=t+i;if(o>=0&&o<e.length){if(o%8===0&&(o-i)%8===7||o%8===7&&(o-i)%8===0)return!1;for(;e[o].team!==n.NONE&&e[o].team!==a&&(o+=i)>=0&&o<e.length;){if(o%8===0&&(o-i)%8===7||o%8===7&&(o-i)%8===0)return!1;if(e[o].team===a)return!0}}return!1}},{key:"validMoves",value:function(e,t,i){for(var a=[],o=0;o<e.length;o++)if(e[o].team===n.NONE)for(var r=0;r<m.length;r++)this.feasibleMove(e,o,m[r],t)&&(a.push(o),r=m.length);if(i&&0===a.length){var l=new Audio;this.utilityGame(e)>0?(l.src=P,l.play()):(l.src=B,l.play())}return a}},{key:"utilityGame",value:function(e){for(var t=0,i=0;i<e.length;i++)e[i].team===n.OPPONENT?t++:e[i].team===n.OUR&&t--;return t}},{key:"minValue",value:function(e,t,i,a,o,r){if(a<=i)return[this.utilityGame(e),t];for(var l=this.validMoves(e,n.OUR,!1),c=[1/0,t],s=0;s<l.length;s++){var u=x.clone(e,!0);u=this.makeWMove(u,l[s],!1);var f=this.maxValue(u,l[s],i+1,a,o,r);if(c[0]>f[0]&&(c=f),c[0]<=o)return c;c[0]<r&&(r=c[0]),u=null}return c}},{key:"maxValue",value:function(e,t,i,a,o,r){if(a<=i)return[this.utilityGame(e),t];var l=this.validMoves(e,n.OPPONENT,!1),c=[-1/0,1];0===i&&(c[1]=l[0]);for(var s=0;s<l.length;s++){var u=x.clone(e,!0);u=this.makeBMove(u,l[s],!1);var f=this.minValue(u,l[s],i+1,a,o,r);if(c[0]<f[0]&&(c[0]=f[0],0===i&&(c[1]=l[s])),c[0]>=r)return c;c[0]>o&&(o=c[0]),u=null}return c}},{key:"alphaBeta",value:function(e,t){return-1/0,1/0,this.maxValue(e,0,0,t,-(1/0),Infinity)[1]}}]),e}(),W=i(3),R=[];function k(){var e=new M,t=Object(o.useState)(N),i=Object(s.a)(t,2),r=i[0],l=i[1],c=Object(o.useRef)(null);if(0===R.length){R=e.validMoves(r,n.OUR,!0);for(var u=0;u<R.length;u++)r[R[u]]={image:O,position:{x:R[u]%g.length,y:Math.floor(R[u]/g.length)},type:a.CANDIDATE,team:n.NONE}}for(var f=[],m=h.length-1;m>=0;m--)for(var p=0;p<g.length;p++){var v=m*g.length+p,A=r[v],E=A?A.image:void 0,b=A?A.type:a.NONE;f.push(Object(d.jsx)(y,{id:"".concat(v),image:E,ptype:b},"".concat(p,",").concat(m)))}return Object(d.jsx)("div",{onMouseDown:function(t){return function(t){var i=t.target,n=c.current;if(i.classList.contains("candidate")&&n){for(var o=+i.id,s=0;s<R.length;s++)r[R[s]].type=a.NONE;var u=W.clone(r,!0);u=e.makeWMove(u,o,!0),l(u),u=W.clone(u,!0);var f=e.alphaBeta(u,3);setTimeout((function(){u=e.makeBMove(u,f,!0)}),999),setTimeout((function(){R.length=0,l(u)}),1111)}}(t)},id:"board",ref:c,children:f})}var I=function(){return Object(d.jsx)("div",{id:"App",children:Object(d.jsx)(k,{})})},U=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,20)).then((function(t){var i=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,r=t.getTTFB;i(e),a(e),n(e),o(e),r(e)}))};c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(I,{})}),document.getElementById("root")),U()}},[[19,1,2]]]);
//# sourceMappingURL=main.e6b87ccb.chunk.js.map